{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // ==============================================\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE)\n    // ==============================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // ==============================================\n    // 2. ИНТЕРАКТИВНЫЙ КУРСОР (NEON GLOW)\n    // ==============================================\n    const cursorGlow = document.querySelector('.cursor-glow');\n\n    // Включаем только на устройствах с мышью (не тачскрин)\n    if (cursorGlow && window.matchMedia('(hover: hover) and (pointer: fine)').matches) {\n        \n        // GSAP QuickSetter для максимальной производительности (без лагов)\n        // Если GSAP не подключен, этот блок просто не сработает\n        if (typeof gsap !== 'undefined') {\n            const setX = gsap.quickSetter(cursorGlow, \"x\", \"px\");\n            const setY = gsap.quickSetter(cursorGlow, \"y\", \"px\");\n\n            window.addEventListener('mousemove', (e) => {\n                // Показываем курсор при первом движении\n                if (!cursorGlow.classList.contains('active')) {\n                    cursorGlow.classList.add('active');\n                }\n                \n                // Перемещаем пятно света\n                setX(e.clientX);\n                setY(e.clientY);\n            });\n        }\n    }\n\n    // ==============================================\n    // 3. UI ЛОГИКА: МЕНЮ И ХЕДЕР\n    // ==============================================\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const navLinks = document.querySelectorAll('.header__link');\n\n    // Открытие/закрытие мобильного меню\n    if (burger && nav) {\n        burger.addEventListener('click', () => {\n            nav.classList.toggle('active');\n            \n            // Смена иконки бургера (опционально)\n            const icon = burger.querySelector('i');\n            if (icon) {\n                if (nav.classList.contains('active')) {\n                    icon.setAttribute('data-lucide', 'x');\n                } else {\n                    icon.setAttribute('data-lucide', 'menu');\n                }\n                lucide.createIcons();\n            }\n        });\n    }\n\n    // Закрытие меню при клике на ссылку\n    if (navLinks.length > 0 && nav) {\n        navLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                nav.classList.remove('active');\n                // Возвращаем иконку меню\n                const icon = burger.querySelector('i');\n                if(icon) {\n                    icon.setAttribute('data-lucide', 'menu');\n                    lucide.createIcons();\n                }\n            });\n        });\n    }\n\n    // Эффект \"Стекла\" у хедера при скролле\n    if (header) {\n        const updateHeaderStyle = () => {\n            if (window.scrollY > 20) {\n                header.style.background = 'rgba(10, 15, 13, 0.95)';\n                header.style.borderBottom = '1px solid rgba(0, 255, 149, 0.15)';\n                header.style.boxShadow = '0 4px 30px rgba(0, 255, 149, 0.05)';\n            } else {\n                header.style.background = 'rgba(10, 15, 13, 0.7)';\n                header.style.borderBottom = '1px solid rgba(0, 255, 149, 0.05)';\n                header.style.boxShadow = 'none';\n            }\n        };\n        window.addEventListener('scroll', updateHeaderStyle);\n        updateHeaderStyle();\n    }\n\n    // ==============================================\n    // 4. ГЛАВНЫЕ АНИМАЦИИ (HERO + GSAP)\n    // ==============================================\n    if (typeof gsap !== 'undefined') {\n        const heroText = document.querySelector('.hero__text-wrapper');\n        const heroBtns = document.querySelectorAll('.hero .btn'); // Точечно выбираем кнопки в hero\n        const heroScroll = document.querySelector('.hero__scroll');\n\n        // Устанавливаем начальные значения (скрываем), только если JS загрузился\n        if (heroText) gsap.set(heroText, { y: 30, opacity: 0 });\n        if (heroBtns.length > 0) gsap.set(heroBtns, { y: 20, opacity: 0 });\n        if (heroScroll) gsap.set(heroScroll, { opacity: 0 });\n\n        // Таймлайн появления\n        const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n        if (heroText) {\n            tl.to(heroText, { y: 0, opacity: 1, duration: 1.2, delay: 0.2 });\n        }\n        if (heroBtns.length > 0) {\n            tl.to(heroBtns, { y: 0, opacity: 1, duration: 0.8, stagger: 0.2 }, \"-=0.8\");\n        }\n        if (heroScroll) {\n            tl.to(heroScroll, { opacity: 1, duration: 1 }, \"-=0.5\");\n        }\n    }\n\n    // ==============================================\n    // 5. CANVAS: НЕЙРОСЕТЬ (ЧАСТИЦЫ)\n    // ==============================================\n    const canvas = document.getElementById('hero-canvas');\n    \n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let width, height;\n        let particles = [];\n\n        // Настройки\n        const properties = {\n            particleColor: 'rgba(0, 255, 149, 0.8)', // Neon Green\n            lineColor: 'rgba(0, 255, 149, 1)',\n            particleRadius: 2,\n            particleCount: window.innerWidth < 768 ? 35 : 70, // Меньше на телефоне\n            lineLength: 150, // Дальность соединения\n            particleSpeed: 0.4\n        };\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.velocityX = (Math.random() - 0.5) * properties.particleSpeed;\n                this.velocityY = (Math.random() - 0.5) * properties.particleSpeed;\n            }\n            position() {\n                // Отталкивание от границ\n                if (this.x + this.velocityX > width && this.velocityX > 0 || this.x + this.velocityX < 0 && this.velocityX < 0) this.velocityX *= -1;\n                if (this.y + this.velocityY > height && this.velocityY > 0 || this.y + this.velocityY < 0 && this.velocityY < 0) this.velocityY *= -1;\n                this.x += this.velocityX;\n                this.y += this.velocityY;\n            }\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, properties.particleRadius, 0, Math.PI * 2);\n                ctx.fillStyle = properties.particleColor;\n                ctx.fill();\n            }\n        }\n\n        function initCanvas() {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n            particles = [];\n            for (let i = 0; i < properties.particleCount; i++) {\n                particles.push(new Particle());\n            }\n        }\n\n        function drawLines() {\n            let x1, y1, x2, y2, length, opacity;\n            for (let i = 0; i < particles.length; i++) {\n                for (let j = 0; j < particles.length; j++) {\n                    x1 = particles[i].x;\n                    y1 = particles[i].y;\n                    x2 = particles[j].x;\n                    y2 = particles[j].y;\n                    length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n                    \n                    if (length < properties.lineLength) {\n                        opacity = 1 - length / properties.lineLength;\n                        ctx.lineWidth = 0.5;\n                        ctx.strokeStyle = `rgba(0, 255, 149, ${opacity})`;\n                        ctx.beginPath();\n                        ctx.moveTo(x1, y1);\n                        ctx.lineTo(x2, y2);\n                        ctx.stroke();\n                    }\n                }\n            }\n        }\n\n        function loop() {\n            ctx.clearRect(0, 0, width, height);\n            for (let i = 0; i < particles.length; i++) {\n                particles[i].position();\n                particles[i].draw();\n            }\n            drawLines();\n            requestAnimationFrame(loop);\n        }\n\n        initCanvas();\n        loop();\n\n        window.addEventListener('resize', () => {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n            // Пересоздаем частицы только при сильном изменении, \n            // но для простоты здесь можно просто обновить размеры\n        });\n    }\n\n    // ==============================================\n    // 6. SCROLL ANIMATIONS (ПОЯВЛЕНИЕ БЛОКОВ)\n    // ==============================================\n    const scrollElements = document.querySelectorAll(\"[data-scroll]\");\n\n    // Используем IntersectionObserver для производительности\n    const observerOptions = {\n        threshold: 0.1, // Срабатывает, когда 10% элемента видно\n        rootMargin: \"0px 0px -50px 0px\"\n    };\n\n    const scrollObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add(\"in-view\");\n                observer.unobserve(entry.target); // Анимируем только один раз\n            }\n        });\n    }, observerOptions);\n\n    scrollElements.forEach(el => scrollObserver.observe(el));\n\n\n    // ==============================================\n    // 7. ЛОГИКА ФОРМЫ (CAPTCHA + ОТПРАВКА)\n    // ==============================================\n    const contactForm = document.getElementById('contactForm');\n    \n    if (contactForm) {\n        // Генерация простого примера\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        const sum = num1 + num2;\n        const captchaQ = document.getElementById('captchaQuestion');\n        \n        if (captchaQ) {\n            captchaQ.textContent = `${num1} + ${num2} = ?`;\n        }\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            const userAnswer = document.getElementById('captchaAnswer');\n            if (userAnswer && parseInt(userAnswer.value) !== sum) {\n                alert('Ошибка в вычислении! Попробуйте снова.');\n                userAnswer.value = '';\n                return;\n            }\n\n            // Имитация отправки (AJAX)\n            const btn = contactForm.querySelector('button[type=\"submit\"]');\n            const originalText = btn.textContent;\n            \n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n            btn.style.opacity = '0.7';\n\n            setTimeout(() => {\n                // Скрываем форму, показываем успех\n                contactForm.style.display = 'none';\n                const successMsg = document.getElementById('formSuccess');\n                if (successMsg) successMsg.style.display = 'block';\n                \n                // Очистка (для следующего раза, если нужно)\n                contactForm.reset();\n            }, 1500);\n        });\n    }\n\n\n    // ==============================================\n    // 8. COOKIE POPUP\n    // ==============================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (cookiePopup && acceptBtn) {\n        // Проверяем localStorage\n        if (!localStorage.getItem('phasorCookiesAccepted')) {\n            setTimeout(() => {\n                cookiePopup.classList.add('active');\n            }, 2500); // Показываем через 2.5 сек после захода\n        }\n\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('phasorCookiesAccepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n});"],"names":["cursorGlow","setX","setY","e","header","burger","nav","navLinks","icon","link","updateHeaderStyle","heroText","heroBtns","heroScroll","tl","canvas","initCanvas","width","height","particles","i","properties","Particle","drawLines","x1","y1","x2","y2","length","opacity","j","ctx","loop","scrollElements","observerOptions","scrollObserver","entries","observer","entry","el","contactForm","num1","num2","sum","captchaQ","userAnswer","btn","successMsg","cookiePopup","acceptBtn"],"mappings":"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"}